# Rye: Python без проблем

!!! warning "Важливо"
    Далі викладено машиний переклад [документації Rye](https://rye-up.com).

`Rye` — це комплексне рішення для управління проектами та пакетами Python. 
Воно було створене для задоволення потреби в універсальному інструменті для всіх користувачів Python. 
Rye надає зручний спосіб встановлювати та керувати пакетами Python, 
проектами на основі `pyproject.toml`, 
залежностями та віртуальними середовищами. 

### Встановлення

Rye розроблено на мові Rust. 
Він підтримує Linux, macOS та Windows.

Для встановлення Rye на Windows необхідно завантажити останній реліз та запустити бінарний файл. 
Під час першого запуску він встановить себе автоматично. 

Одразу після встановлення Rye на вашому комп'ютері, воно може автоматично встановлювати інтерпретатори Python, встановлювати пакети з індексів пакетів, управляти віртуальними середовищами в фоновому режимі та виконувати інші функції.

Щоб оновити Rye до останньої версії:

    rye self update

Для деінсталяції Rye:

    rye self uninstall


### Основи

Для використання Rye вам потрібно мати проект Python на основі pyproject.toml. Для цього посібника ви можете створити його за допомогою команди rye init, яка створить нову папку з новим проектом всередині:

    rye init my-project
    cd my-project

Буде створена наступна структура:

    .git
    .gitignore
    .python-version
    README.md
    pyproject.toml
    src
        my_project
        __init__.py


Команда `init` приймає багато параметрів для налаштування того, що вона генерує. 
Виконайте 

    rye init --help
    
щоб побачити всі доступні параметри в версії, яку ви встановили.

pyproject.toml використовується для зберігання метаданих про ваш проект, а також деякої конфігурації Rye. Більшість команд Rye потребуватимуть наявності pyproject.toml для роботи. Зверніть увагу, що на сьогодні Rye не підтримує проекти на основі setup.py. Зверніть увагу, що при ініціалізації проекту Rye також створює файл .python-version. Цей файл містить номер версії Python, яка повинна використовуватися для цього проекту. Його можна змінити, запустивши команду rye pin. Наприклад, щоб повідомити Rye використовувати Python 3.10:

    rye pin 3.10

Після цього ви можете використовувати rye sync, щоб отримати першу синхронізацію. Після цього Rye створить віртуальне середовище в .venv та запише lock-файли в requirements.lock та requirements-dev.lock.

    rye sync

Віртуальне середовище, яке керує Rye, розташоване в .venv поруч з вашим pyproject.toml. Перший раз, коли ви запускаєте це, ви помітите, що Rye автоматично завантажує та встановлює сумісний інтерпретатор CPython для вас. Якщо у вас вже є інша встановлена версія Python на вашій системі, вона не буде використовуватись! Для отримання додаткової інформації про цю поведінку прочитайте про інструментарій.

Ви можете активувати й працювати з ним як звичайно, з одним важливим винятком: установка Python в ньому не містить pip. Якщо ви правильно встановили Rye з увімкненими шимами, після синхронізації ви можете запустити python, і ви автоматично будете працювати в цьому віртуальному середовищі, навіть якщо воно не активоване. Ви можете перевірити це, вивівши sys.prefix:

    python -c "import sys; print(sys.prefix)"

Він надрукує повний шлях до керованого віртуального середовища.

### Керування залежностями

Для додавання залежностей до Rye, ви можете використовувати команду rye add.

    rye add "flask>=2.0"

Зверніть увагу, що після додавання вам потрібно буде знову запустити синхронізацію, щоб встановити його насправді. 

Якщо ви хочете додати пакети зі спеціальних індексів, спочатку вам потрібно налаштувати джерело.

Ви можете викликати команду rye list, щоб отримати перелік всіх встановлених залежностей вашого проекту. Зверніть увагу, що цей перелік містить лише залежності, які фактично встановлені, тому спочатку синхронізуйте їх.

    rye list

Використовуйте команду remove, щоб знову видалити залежність з проекту.

    rye remove flask



### Робота з проектом

Щоб запустити виконувані файли в контексті віртуального середовища, ви можете використовувати команду run. Наприклад, якщо ви хочете використовувати black, ви можете додати й запустити його таким чином:

    rye add black
    rye sync
    rye run black

Якщо ви хочете мати доступні команди безпосередньо, вам потрібно активувати віртуальне середовище, як зазвичай. Щоб активувати віртуальне середовище, використовуйте стандартні методи:

    .venv\Scripts\activate

Команда rye show може виводити інформацію про стан проекту. Просто запустивши rye show, ви можете побачити, яка версія Python використовується, де знаходиться віртуальне середовище та багато іншого.

    rye show