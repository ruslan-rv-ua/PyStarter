---
hide:
#  - navigation # Hide navigation
 - toc        # Hide table of contents
---

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

–î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –≥–æ—Ç—É–≤–∞—Ç–∏ –Ω–∞–º —Å–µ–Ω–¥–≤—ñ—á—ñ:

```python
def make_sandwich(func):
	def wrapper():
		print('–•–ª—ñ–±')
		func()
		print('–•–ª—ñ–±')
	return wrapper

@make_sandwich
def sandwich(sandwich_with):
	print(sandwich_with)
```

–ü—Ä–∏–≥–æ—Ç—É—î–º–æ –æ–¥–∏–Ω:

	>>> sandwich("–ú'—è—Å–æ")
	–•–ª—ñ–±
	–ú'—è—Å–æ
	–•–ª—ñ–±
	>>>

–ù–µ–ø–æ–≥–∞–Ω–æ. 
–ê–ª–µ —è–∫ —â–æ–¥–æ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å–µ–Ω–¥–≤—ñ—á–∞ –º–∏ –∑–∞—Ö–æ—á–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–µ —Ö–ª—ñ–±, –∞, –ø—Ä–∏–ø—É—Å—Ç–∏–º–æ, —Ç–æ—Å—Ç–∏? 
–ù–∞–ø—Ä–æ—à—É—î—Ç—å—Å—è —ñ–¥–µ—è –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É —â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ —è–∫–æ—Å—Ç—ñ "–æ–±–≥–æ—Ä—Ç–∫–∏" –Ω–∞—à–æ–≥–æ —Å–µ–Ω–¥–≤—ñ—á–∞, —Ç–æ–±—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É —è–∫—ñ—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏.

–û—Ç–∂–µ, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î —Å–≤–æ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –∞–ª–µ –ø–æ—Ç—ñ–º –≤—ñ–Ω —â–µ –º–∞—î –ø—Ä–∏–π–Ω—è—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É –º–∞—î –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏, –∞ –ø–æ—Ç—ñ–º —â–µ –π –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó. 
–¢–∞–∫–∏–º —á–∏–Ω–æ–º –Ω–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –∑—Ä–æ–±–∏—Ç–∏ –∞–∂ 3 —Ñ—É–Ω–∫—Ü—ñ—ó:

```python
def make_sandwich(sandwich_cover):
	def decorator(func):
		def wrapper(sandwich_with):
			print(sandwich_cover)
			func(sandwich_with)
			print(sandwich_cover)
		return wrapper
	return decorator
```

–û—Å—å —Ä–µ—Ü–µ–ø—Ç –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å–µ–Ω–¥–≤—ñ—á—ñ–≤ –∑ —Ç–æ—Å—Ç–∞–º–∏:

```python
@make_sandwich('–¢–æ—Å—Ç')
def sandwich(sandwich_with):
	print(sandwich_with)
```

–ì–æ—Ç—É—î–º–æ —Å–µ–Ω–¥–≤—ñ—á—ñ –ø–æ —Ü—å–æ–º—É —Ä–µ—Ü–µ–ø—Ç—É:

	>>> sandwich("–ö–æ–≤–±–∞—Å–∞")
	–¢–æ—Å—Ç
	–ö–æ–≤–±–∞—Å–∞
	–¢–æ—Å—Ç
	>>> sandwich("–°–∞–ª–æ")
	–¢–æ—Å—Ç
	–°–∞–ª–æ
	–¢–æ—Å—Ç
	>>>

–§—É–Ω–∫—Ü—ñ—è `make_sandwich` –ø—Ä–∏–π–º–∞—î –≤ —è–∫–æ—Å—Ç—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "–æ–±–≥–æ—Ä—Ç–∫—É" –¥–ª—è —Å–µ–Ω–¥–≤—ñ—á–∞ `sandwich_cover` —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ñ—É–Ω–∫—Ü—ñ—é `decorator` —è–∫–∞, —è–∫ —ñ —Ä–∞–Ω—ñ—à–µ, –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—é —â–æ —Ç—Ä–µ–±–∞ –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–≤–æ—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Ñ—É–Ω–∫—Ü—ñ—é `wrapper`, —è–∫–∞ —É —Å–≤–æ—é —á–µ—Ä–≥—É –ø—Ä–∏–π–º–∞—î –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó `func`.

–¢–µ –∂ —Å–∞–º–µ –º–æ–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ "–±–µ–∑ –º–∞–≥—ñ—ó":

```python
def sandwich(sandwich_with):
	print(sandwich_with)
sandwich = make_sandwich('–•–ª—ñ–±')(sandwich)
```

–ì–æ—Ç—É—î–º–æ:

	>>> sandwich('–ö–æ—Ç–ª–µ—Ç–∞')
	–•–ª—ñ–±
	–ö–æ—Ç–ª–µ—Ç–∞
	–•–ª—ñ–±
	>>>

–ó –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç–µ–∂ –º–æ–∂–Ω–∞ –±—É–¥—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–∫–∏:

```ython
@make_sandwich('–•–ª—ñ–±')
@make_sandwich('–•—Ä—ñ–Ω')
def super_sandwich(sandwich_with):
	print(sandwich_with)
```

–¢–µ–ø–µ—Ä –ø—Ä–∏–≥–æ—Ç—É—î–º–æ "—Å–ø—Ä–∞–≤–∂–Ω—ñ–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π —Å–µ–Ω–¥–≤—ñ—á" üòÄ:

	>>> super_sandwich("–°–∞–ª–æ")
	–•–ª—ñ–±
	–•—Ä—ñ–Ω
	–°–∞–ª–æ
	–•—Ä—ñ–Ω
	–•–ª—ñ–±
	>>>

–°–∞–º–∞ –∑–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è `make_sandwich()` —è–∫ –±–∏ –≤–∏–≥–æ—Ç–æ–≤–ª—è—ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –∑ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏. 
–¢–∞–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞–∑–∏–≤–∞—é—Ç—å "—Ñ–∏–±—Ä–∏–∫–∞–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤".




### –ö–ª–∞—Å-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
<!-- https://habr.com/ru/post/587066/ -->

–û—Ç–∂–µ —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ —Ç—Ä–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–¥–Ω–∞ –≤ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó. 
–í–∏–≥–ª—è–¥–∞—î —Ç—Ä—ñ—à–µ—á–∫–∏ –º–æ–Ω—Å—Ç—Ä—É–æ–∑–Ω–æ...
–Ü —Å–∞–º–µ —Ç–∞–∫ –±—É–ª–æ –ø—Ä–∏–π–Ω—è—Ç–æ –ø–∏—Å–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏, 
–¥–æ–∫–∏ –∫–æ–º—É—Å—å —É –≥–æ–ª–æ–≤—É –Ω–µ –ø—Ä–∏–π—à–ª–∞ —Å–≤—ñ—Ç–ª–∞ –¥—É–º–∫–∞, 
—â–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —É –≤–∏–≥–ª—è–¥—ñ –∫–ª–∞—Å–∞. 

–ü–æ —Å—É—Ç—ñ –Ω–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ –µ—Ç–∞–ø–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è–º 
–ø–µ—Ä–µ–¥–∞–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ –≤–∏–∫–ª–∏–∫–∞, 
—Ç–æ–±—Ç–æ –∑—Ä–æ–±–∏—Ç–∏ —Ç–µ, —â–æ —Ä–æ–±–ª—è—Ç—å –∫–ª–∞—Å–∏. 

```python
class sandwich_cover:
	def __init__(self, cover):
		self._cover = cover
		
	def __call__(self, func):
		def wrapper(sandwich_with):
			print(self._cover)
			func(sandwich_with)
			print(self._cover)
		return wrapper
```

–†–µ—Ü–µ–ø—Ç "–∫–ª–∞—Å–Ω–æ–≥–æ" —Å—É–ø–µ—Ä—Å–µ–Ω–¥–≤—ñ—á–∞:

```python
@sandwich_cover('–¢–æ—Å—Ç')
@sandwich_cover('–•—Ä—ñ–Ω')
def super_sandwich(sandwich_with):
	print(sandwich_with)
```

–ü—Ä–∏–≥–æ—Ç—É—î–º–æ "–∫–ª–∞—Å–Ω–∏–π" —Å–µ–Ω–¥–≤—ñ—á:
		
	>>> super_sandwich("–°–∞–ª–æ")
	–¢–æ—Å—Ç
	–•—Ä—ñ–Ω
	–°–∞–ª–æ
	–•—Ä—ñ–Ω
	–¢–æ—Å—Ç
	>>>

–ö–æ–¥ –≤–∏–≥–ª—è–¥–∞—î –Ω–∞–±–∞–≥–∞—Ç–æ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–∏–º. 
–ó–∞–ª–∏—à–∏–ª–æ—Å—å –ª–∏—à–µ –∑–º–∏—Ä–∏—Ç–∏—Å—å –∑ –Ω–∞–∑–≤–æ—é –∫–ª–∞—Å–∞ –∑ –º–∞–ª–µ–Ω—å–∫–æ—ó –±—É–∫–≤–∏, 
–∞–±–æ –∂ –∑ –Ω–∞–∑–≤–æ—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –∑ –≤–µ–ª–∏–∫–æ—ó üòä.
