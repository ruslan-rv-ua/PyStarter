# Час життя Python-об'єкта

Пригадаємо основні характеристики об'єкта:

- значення (дані, стан об'єкта)
- тип даних
- ідентифікатор

У Python-об'єкта є ще одна характеристика — лічильник посилань на об'єкт (reference counter). 
Як тільки хтось посилається на об'єкт, лічильник посилань збільшується на 1. Якщо з будь-якої причини посилання пропадає, то це поле зменшується на 1.

Приклади, коли кількість посилань збільшується:

* оператор присвоєння
* передача аргументів
* вставка нового об'єкта в `list` (збільшується кількість посилань для об'єкта)
* вираз виду `foo = bar` (`foo` починає посилатись на той самий обєкт, що і `bar`)

Для знищення об'єктів Python використовує алгоритм підрахунку посилань. 
Об'єкти видаляються коли на них більше немає посилань.

В інтрерпретаторі Python є спеціальний механізм — збиральник сміття (garbage collector). 
Спрощено це працює так: у певні моменти часу збиральник сміття "пробігається" по усім об'єктам в пам'яті, 
і якщо лічильник посилань певного об'єкта дорівнює 0, то цей об'єкт знищується — пам'ять, яку займав об'єкт, звільняється і у подальшому може використовуватись повторно. 

Якщо видалений об'єкт містив посилання на інші об'єкти, то ці посилання також видаляються. 
Таким чином, видалення одного об'єкта може спричинити видалення інших. 
Наприклад, якщо видаляється список, то лічильник посилань у всіх його элементах зміншується на 1. 
Якщо усі об'єкти всередині списка більше ніде не використовуються, то їх також будеь видалено. 

Змінні, які оголошено поза функціями, називаются глобальными. Як правило, життєвий цикл таких змінних дорівнює життю Python-процеса. Таким чином, кількість посилань на об'єкти на котрі посилаються глобальні змінні ніколи не падає до 0.

Змінні, котрі оголошено всередині функції, мають локальну видимість. Як тільки інтерпретатор виходить з функції івн знищує усі посилання створені локальними змінними всередині неї. 

Дізнатись кількість посилань на об'єкт можна за допомогою функції getrefcount з модуля sys:

	>>> from sys import getrefcount
	>>> list1 = []
	>>> getrefcount(list1)
	2
	>>>
	
На список є два посилання:

1. змінна `list1`
1. у момент виклику `getrefcount()` їй передається аргумент, це теж посилання
