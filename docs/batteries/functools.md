---
hide:
#  - navigation # Hide navigation
 - toc        # Hide table of contents
---

# Модуль `functools`

### `reduce()`

Використовується для послідовного застосування заданої функції до всіх елементів ітерабельного об'єкта, зводячи їх до одного значення.

    reduce(function, iterable[, initializer])

Аргументи:

- `function` — бінарна функція, яка приймає два аргументи і повертає результат;
- `iterable` — ітерабельний об'єкт;
- `initializer` (опційно) — початкове значення аккумулятора. Якщо не задано, то береться перший елемент ітерабельного об'єкта.

Якщо задано значення акумулятора, тоді для акумулятора і для першого елемента послідовності викликається задана функція. Якщо ж значення акумулятора не задано, функція викликається для перших двох елементів. 
Результат дії заданої функції записується в акумулятор. 
Далі процес повторюється для усіх елементів ітерабельного об'єкта.

Приклад. 
Є список чисел, треба отримати їх добуток. 

	>>> from functools import reduce
	>>> numbers = [1, 2, 3, 4, 5]
	>>> product = reduce(lambda a, x: a*x, numbers)
	>>> product
	120

Функції `reduce()` ми передали анонімну функцію, яка повертає добуток двох чисел. 
Ця функція застосовується спершу до чисел 1 і 2, в результаті отримуємо 2. 
Потім до чисел 2 (попередній результат) і 3 (наступний елемент списка), вийде 6. 
Потім до чисел 6 і 4, і врешті решт до чисел 24 і 5. 

Ще один приклад. 
Є список списків чисел:

	[[1, 2, 3], [4, 5], [6, 7, 8]]
	
Треба отримати один список який міститиме усі числа: 

	[1, 2, 3, 4, 5, 6, 7, 8]
	
За допомогою `reduce()` це можна зробити просто і елегантно: 

	>>> nums = [[1, 2, 3], [4, 5], [6, 7, 8]]
	>>> l = reduce(lambda x,y: x+y, nums)
	>>> l
	[1, 2, 3, 4, 5, 6, 7, 8]
	>>>

Ще можна замість анонімної функції використати магічний метод класа `list`:

	>>> l = reduce(list.__add__, nums)
	>>> l
	[1, 2, 3, 4, 5, 6, 7, 8]
	>>>

